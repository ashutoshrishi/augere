exports.invokeID = "twitter";

var util = require('util'),
    twitter = require('twitter');

var twit = new twitter({
    consumer_key: 'rVsx2rEovpYQMzzw1u7XPqtRa',
    consumer_secret: 'ee8RC3uRgcG94LnBsXsm1OrXbztlVrTK1VLkqsqtpACbG4qgHb'
});

exports.build = function (query) {
    var Box = require('boxmodule'),
        twitterbox = Box('Twitter Search: '+query.text,
                        query);

    twit.search(query.text, function(data) {
        console.log(util.inspect(data));
        var i;
        for (i = 0; i < data.statuses.length; i++ ) {
            var text = data.statuses[i].text;
            twitterbox.appendListItem(text);
        }
    });
    twit.get('/statuses/show/27593302936.json', {include_entities:true}, function(data) {
        console.log(util.inspect(data));
    });
    return twitterbox;

};
